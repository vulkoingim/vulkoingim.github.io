<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Obsidian Location - Aleksandar&#39;s Blog</title><link rel="icon" type="image/png" href=icons/myicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Obsidian Location" />
<meta property="og:description" content="How to &#34;automatically&#34; get your  accurate location in Obsidian notes" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vulkoingim.github.io/posts/obsidian-location/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-11-13T14:01:52+00:00" />
<meta property="article:modified_time" content="2024-11-13T14:01:52+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Obsidian Location"/>
<meta name="twitter:description" content="How to &#34;automatically&#34; get your  accurate location in Obsidian notes"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="https://vulkoingim.github.io/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://vulkoingim.github.io/css/main.css" />
	<link rel="stylesheet" type="text/css" href="https://vulkoingim.github.io/css/custom.css" />
	<link rel="stylesheet" type="text/css" href="https://vulkoingim.github.io/css/dark.css" media="(prefers-color-scheme: dark)" />
	<link rel="stylesheet" type="text/css" href="https://vulkoingim.github.io/css/custom-dark.css" media="(prefers-color-scheme: dark)" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script src="https://vulkoingim.github.io/js/main.js"></script>
	<script>
		!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
		posthog.init('phc_X14SwB4DKkD5SFmoeKvazuNv1XBDdwZBk5lhauRBmS2',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
			})
	</script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="https://vulkoingim.github.io/">
	<h1 class="site-title"><a href="https://vulkoingim.github.io/">Aleksandar&#39;s Blog</a></h1>
	<div class="site-description"><h2>Random ramblings</h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/vulkoingim" title="Github"><i data-feather="github"></i></a><a href="https://twitter.com/vulkoingim" title="Twitter"><i data-feather="twitter"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about/">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Obsidian Location</h1>
			<div class="meta">Posted at &mdash; Nov 13, 2024</div>
		</div>

		<div class="markdown">
			<p>Recently I started using Obsidian and journaling daily. It took no time for me to start tracking all kinds of things for each day, and naturally some of those things ended up being my location and the weather.</p>
<p>It turns out that getting your accurate location in Obsidian is a bit of a pain in the ass. Most of the solutions I saw online were based on determining your location <a href="https://forum.obsidian.md/t/mobile-can-obsidian-api-provide-current-geo-location-gps-on-android-ios/21638/8">from your IP address</a> which is, needless to say, wildly inaccurate. Others required you to <a href="https://github.com/esm7/obsidian-map-view#gps-location-support">run a separate (Android) app, or go through a web page</a></p>
<p>Now I wanted something that can requires minimum intervention on my part - I <code>just</code> want things to work without me having to do any manual work.</p>
<p>Some caveats:</p>
<ul>
<li>This is specifically for iOS/OS X</li>
<li>I sync between my mobile and desktop app through iCloud</li>
<li>Not sure if it would work with other sync solutions - haven&rsquo;t tried it.</li>
</ul>
<p>Anyway&hellip;</p>
<p>The gist of it is to create a Shortcut, which will run periodically (or on any other trigger you like) on a device that has location capabilities, and insert the location information directly in your vault, in a note, in <code>FrontMatter</code> format. That&rsquo;s pretty much it.</p>
<p><a href="https://www.icloud.com/shortcuts/1e955b46e1d44126b780368f35277366">Here is a link to the shortcut</a> if you want to directly use it. Just be sure to modify the path, as it will surely be different for your Vault. Just click on <code>Meta</code> which will prompt you to point to a folder on your machine.</p>
<p>Or if you want to recreate it yourself, here&rsquo;s a screenshot of the settings. Not sure if there&rsquo;s a way to grab the raw code behind that shortcut, so far I haven&rsquo;t found a way (but also haven&rsquo;t looked much).</p>
<p><img src="/images/shortcut.png" alt="shortcut"></p>
<p>On my iphone I also have 2 automations that will run this shortcut:</p>
<ul>
<li>Run daily in the morning</li>
<li>Run after I turn airplay mode off
<img src="/images/automation.png" alt="automation"></li>
</ul>
<p>Then, using <code>Templater</code> I can grab that information wherever I want, e.g. in my Daily notes and also get weather information based on my location.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#719e07">&lt;%-</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">async</span> <span style="color:#268bd2">function</span> getPageProperties(pageName) {
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">const</span> dataviewApi <span style="color:#719e07">=</span> app.plugins.plugins.dataview.api;
</span></span><span style="display:flex;"><span>    <span style="color:#268bd2">const</span> page <span style="color:#719e07">=</span> <span style="color:#268bd2">await</span> dataviewApi.page(pageName);
</span></span><span style="display:flex;"><span>    <span style="color:#719e07">return</span> page;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">const</span> locationPage <span style="color:#719e07">=</span> <span style="color:#268bd2">await</span> getPageProperties(<span style="color:#2aa198">&#34;600 - Other/Meta/location&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#268bd2">const</span> city <span style="color:#719e07">=</span> locationPage.city;
</span></span><span style="display:flex;"><span><span style="color:#268bd2">const</span> country <span style="color:#719e07">=</span> locationPage.country;
</span></span><span style="display:flex;"><span><span style="color:#268bd2">const</span> latitude <span style="color:#719e07">=</span> locationPage.latitude;
</span></span><span style="display:flex;"><span><span style="color:#268bd2">const</span> longitude <span style="color:#719e07">=</span> locationPage.longitude;
</span></span><span style="display:flex;"><span><span style="color:#719e07">-%&gt;</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">---</span>
</span></span><span style="display:flex;"><span>location<span style="color:#719e07">:</span> <span style="color:#2aa198">&#34;&lt;% latitude %&gt;,&lt;% longitude %&gt;&#34;</span>
</span></span><span style="display:flex;"><span>city<span style="color:#719e07">:</span> <span style="color:#719e07">&lt;%</span> city <span style="color:#719e07">%&gt;</span>, <span style="color:#719e07">&lt;%</span> country <span style="color:#719e07">%&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">---</span>
</span></span></code></pre></div>
		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/tags/ios">ios</a></li>
								
								<li><a href="/tags/obsidian">obsidian</a></li>
								
								<li><a href="/tags/blog">blog </a></li>
								
								<li><a href="/tags/mac">mac</a></li>
								
							</ul>
					</nav>
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>



<script>feather.replace()</script>
</body>
</html>
